(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(t,e,a){t.exports=a(38)},38:function(t,e,a){"use strict";a.r(e);var n=a(31),s=a(32),i=a(35),o=a(33),r=a(36),l=a(5),d=a(0),c=a.n(d),m=a(22),u=a.n(m),h=(a(44),a(23)),f=a.n(h),p=a(34),v=a.n(p),g=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(i.a)(this,Object(o.a)(e).call(this,t))).onChange=function(t){var e=a.state.formdata;a.setState({date:t}),console.log(t),a.setState({dateEmpty:!1}),console.log(a.state.dateEmpty),a.validateIt(e.data[0].validations,t,!0)},a.state={formdata:null,isLoaded:!1,date:new Date,dateValid:!1,dateEmpty:!0,myForm:[],errMessage:""},a.onChange=a.onChange.bind(Object(l.a)(Object(l.a)(a))),a.onSubmit=a.onSubmit.bind(Object(l.a)(Object(l.a)(a))),a}return Object(r.a)(e,t),Object(s.a)(e,[{key:"validateIt",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(this.state.dateEmpty=!1);for(var a=!1,n=0;n<t.length;n++){if("min"===t[n].name&&!0!==a){var s=new Date,i=t[n].value.split(" ");if(e<s)e<f()(s).add(i[0],i[1])&&(this.state.dateEmpty=!0,a=!0,this.state.errMessage=t[n].message)}else if("max"===t[n].name&&!0!==a){var o=new Date;i=t[n].value.split(" ");if(e>o)e>f()(o).add(i[0],i[1])&&(a=!0,this.state.errMessage=t[n].message)}else"required"===t[n].name&&this.state.dateEmpty&&!0!==a&&(a=!0,alert(t[n].message),this.state.errMessage=t[n].message);this.state.dateValid=!a}}},{key:"componentDidMount",value:function(){var t=this;fetch("https://ca.platform.simplifii.xyz/api/v1/static/assignment9").then(function(t){return t.json()}).then(function(e){t.setState({formdata:e.response,isLoaded:!0})})}},{key:"onSubmit",value:function(){var t=this.state.formdata;if(!this.state.dateEmpty&&this.state.dateValid){for(var e=0;e<t.data.length&&"button"!==t.data[e].type;)e++;if(console.log(t.data[e].api),"api"===t.data[e].action)var a=t.data[e].api;var n=t.data[0].name,s=this.state.date,i={};i[n]=s,fetch(a.uri,{method:a.method,body:JSON.stringify(i)}).then(function(t){if(t.status>=200&&t.status<300)return alert("Data Posted Successfully"),t;console.log("Somthing happened wrong")}).catch(function(t){return t})}else console.log(this.state.dateEmpty,this.state.date),this.validateIt(t.data[0].validations,this.state.date)}},{key:"setForm",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[],n=0;n<t.length;n++)"datetime"===t[n].type?(a.push(c.a.createElement("div",{class:"contact1-form-title"},t[n].label)),a.push(c.a.createElement("div",null,c.a.createElement(v.a,{class:"wrap-input1 validate-input",onChange:this.onChange,value:this.state.date})))):"button"===t[n].type&&a.push(c.a.createElement("div",{class:"container-contact1-form-btn"},c.a.createElement("button",{class:"contact1-form-btn",onClick:this.onSubmit},t[n].label)));a.push(c.a.createElement("div",null,c.a.createElement("p",null,e))),this.state.myForm=a}},{key:"render",value:function(){var t=this.state,e=t.formdata;return t.isLoaded?(this.setForm(e.data,this.state.errMessage),this.state.myForm):c.a.createElement("div",null," ..loading ")}}]),e}(c.a.Component);u.a.render(c.a.createElement(g,null),document.getElementById("root"))},44:function(t,e,a){}},[[37,1,2]]]);
//# sourceMappingURL=main.5afa555b.chunk.js.map